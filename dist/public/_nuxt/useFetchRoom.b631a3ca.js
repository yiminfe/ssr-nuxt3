import{D as e,r as a,E as t,G as n,H as r,u as s,C as o,I as i,J as l,K as u}from"./entry.abd005a0.js";const c=()=>null;function y(u,y,f){const[d={},p]="string"==typeof y?[{},y]:[y,f],m=d.key||p;if(!m||"string"!=typeof m)throw new TypeError("[nuxt] [useFetch] key must be a string: "+m);if(!u)throw new Error("[nuxt] [useFetch] request is missing.");const h="$f"+m,v=i((()=>{let e=u;return"function"==typeof e&&(e=e()),l(e)?e.value:e})),{server:g,lazy:_,default:b,transform:w,pick:D,watch:x,initialCache:C,...q}=d,E={...q,cache:"boolean"==typeof d.cache?void 0:d.cache},k=function(...i){var l,u,y,f,d,p,m,h,v;const g="string"==typeof i[i.length-1]?i.pop():void 0;"string"!=typeof i[0]&&i.unshift(g);let[_,b,w={}]=i;if("string"!=typeof _)throw new TypeError("[nuxt] [asyncData] key must be a string.");if("function"!=typeof b)throw new TypeError("[nuxt] [asyncData] handler must be a function.");w.server=null==(l=w.server)||l,w.default=null!=(u=w.default)?u:c,w.defer,w.lazy=null!=(f=null!=(y=w.lazy)?y:w.defer)&&f,w.initialCache=null==(d=w.initialCache)||d,w.immediate=null==(p=w.immediate)||p;const D=e(),x=()=>(D.isHydrating||w.initialCache)&&void 0!==D.payload.data[_];D._asyncData[_]||(D._asyncData[_]={data:a(x()?D.payload.data[_]:null!=(h=null==(m=w.default)?void 0:m.call(w))?h:null),pending:a(!x()),error:a(null!=(v=D.payload._errors[_])?v:null)});const C={...D._asyncData[_]};C.refresh=C.execute=(e={})=>D._asyncDataPromises[_]?D._asyncDataPromises[_]:e._initial&&x()?D.payload.data[_]:(C.pending.value=!0,D._asyncDataPromises[_]=new Promise(((e,a)=>{try{e(b(D))}catch(t){a(t)}})).then((e=>{w.transform&&(e=w.transform(e)),w.pick&&(e=function(e,a){const t={};for(const n of a)t[n]=e[n];return t}(e,w.pick)),C.data.value=e,C.error.value=null})).catch((e=>{var a,t;C.error.value=e,C.data.value=s(null!=(t=null==(a=w.default)?void 0:a.call(w))?t:null)})).finally((()=>{C.pending.value=!1,D.payload.data[_]=C.data.value,C.error.value&&(D.payload._errors[_]=!0),delete D._asyncDataPromises[_]})),D._asyncDataPromises[_]);const q=()=>C.refresh({_initial:!0}),E=!1!==w.server&&D.payload.serverRendered;{const e=o();if(e&&!e._nuxtOnBeforeMountCbs){e._nuxtOnBeforeMountCbs=[];const a=e._nuxtOnBeforeMountCbs;e&&(t((()=>{a.forEach((e=>{e()})),a.splice(0,a.length)})),n((()=>a.splice(0,a.length))))}E&&D.isHydrating&&_ in D.payload.data?C.pending.value=!1:e&&(D.payload.serverRendered&&D.isHydrating||w.lazy)&&w.immediate?e._nuxtOnBeforeMountCbs.push(q):w.immediate&&q(),w.watch&&r(w.watch,(()=>C.refresh()));const a=D.hook("app:data:refresh",(e=>{if(!e||e.includes(_))return C.refresh()}));e&&n(a)}const k=Promise.resolve(D._asyncDataPromises[_]).then((()=>C));return Object.assign(k,C),k}(h,(()=>$fetch(v.value,E)),{server:g,lazy:_,default:b,transform:w,pick:D,initialCache:C,watch:[v,...x||[]]});return k}function f(e,a,{params:t,query:n}){let r=e;return"GET"===a&&(r=e+JSON.stringify(t||n)),r}function d(e,a){return function(e,a,{params:t,query:n,body:r},s){return y(`/api${e}`,{baseURL:u,key:f(e,a,{params:t,query:n}),method:a,params:t,query:n,body:r,initialCache:s,async onRequest({request:e,options:a}){},async onRequestError({request:e,options:a,error:t}){},async onResponse({request:e,response:a,options:t}){if(200===a.status)return a._data},async onResponseError({request:e,response:a,options:t}){a.status}},"$HxxC5EnmB8")}(e,"GET",{params:a},!0)}function p(e){return d("/room/room/getRoomList",e)}function m(e){return d("/room/room/getRoomDetail",e)}export{p as a,m as u};
