import{a as e,r as a,H as t,x as l,o as n,c as o,l as i,k as s,F as u,y as p,s as d,u as r,J as c,p as m,L as g,w as y,t as h,m as v,M as z,j as C,q as b}from"./entry.612ba306.js";import{a as N}from"./useFetchRoom.d9c735df.js";const f=e({__name:"HomeTabs",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:m}){const g=a(e.modelValue);t(g,(e=>{m("update:modelValue",e)}));const y=[{cityCode:"cd",cityName:"成都"},{cityCode:"nj",cityName:"南京"},{cityCode:"cq",cityName:"重庆"},{cityCode:"bj",cityName:"北京"},{cityCode:"sz",cityName:"苏州"}];return(e,a)=>{const t=l("el-tab-pane"),m=l("el-tabs");return n(),o(m,{modelValue:r(g),"onUpdate:modelValue":a[0]||(a[0]=e=>c(g)?g.value=e:null),type:"card"},{default:i((()=>[(n(),s(u,null,p(y,((a,l)=>d(t,{key:l,lazy:!0,label:e.$t(`home.city['${a.cityCode}']`),name:a.cityCode},null,8,["label","name"]))),64))])),_:1},8,["modelValue"])}}}),x={class:"home-list"},_=e({__name:"CommonSkeleton",props:{loading:{type:Boolean},count:null},setup:e=>(a,t)=>{const r=l("el-skeleton-item"),c=l("el-skeleton");return n(),o(c,{loading:e.loading,animated:""},{template:i((()=>[m("div",x,[(n(!0),s(u,null,p(e.count,(e=>(n(),s("div",{class:"item",key:e},[d(r,{variant:"image",style:{width:"100%",height:"250px","border-radius":"4px"}}),d(r,{variant:"p",style:{width:"100%",margin:"15px 0px",height:"25px"}}),d(r,{variant:"p",style:{width:"30%",height:"16px"}})])))),128))])])),default:i((()=>[g(a.$slots,"default")])),_:3},8,["loading"])}}),k=z(e({__name:"CommonPagination.client",props:{pageNo:null,pageSize:null,total:null},emits:["update:pageNo","update:pageSize"],setup(e,{emit:a}){function t(e){a("update:pageNo",e)}function i(e){a("update:pageSize",e)}return(a,s)=>{const u=l("el-pagination");return n(),o(u,{"current-page":e.pageNo,"page-size":e.pageSize,total:e.total,"page-sizes":[3,6,9,12],background:"",layout:"sizes,prev,pager,next","prev-text":"<<","next-text":">>",onCurrentChange:t,onSizeChange:i},null,8,["current-page","page-size","total"])}}})),S={class:"home-list"},V=["onClick"],$=["src","alt"],w={class:"title"},j={class:"price"},U=e({__name:"HomeList",async setup(e){let l,g;const z=a(1),C=a(12),b=a("cd"),x={pageNo:z.value,pageSize:C.value,cityCode:b.value},{data:U,pending:H,refresh:L}=([l,g]=y((()=>N(x))),l=await l,g(),l);return t([z,C,b],(([e,a,t])=>{t===x.cityCode&&a===x.pageSize||1===e?(x.pageNo=e,x.pageSize=a,x.cityCode=t,L()):z.value=1})),(e,a)=>{const t=f,l=_,g=k;return n(),s(u,null,[d(t,{modelValue:r(b),"onUpdate:modelValue":a[0]||(a[0]=e=>c(b)?b.value=e:null)},null,8,["modelValue"]),m("div",null,[d(l,{loading:r(H),count:r(C)},{default:i((()=>[m("div",S,[(n(!0),s(u,null,p(r(U).result.orders.data,((a,t)=>(n(),s("div",{class:"item",onClick:t=>e.$router.push(`/detail/${a.id}`),key:a.id},[m("img",{src:a.pictureUrl,alt:a.title,loading:"lazy"},null,8,$),m("p",w,h(a.title),1),m("p",j,"¥"+h(a.price)+"元",1)],8,V)))),128))])])),_:1},8,["loading","count"])]),r(H)?v("",!0):(n(),o(g,{key:0,pageNo:r(z),"onUpdate:pageNo":a[1]||(a[1]=e=>c(z)?z.value=e:null),pageSize:r(C),"onUpdate:pageSize":a[2]||(a[2]=e=>c(C)?C.value=e:null),total:r(U).result.total},null,8,["pageNo","pageSize","total"]))],64)}}}),H=""+new URL("banner.d75e2f5e.jpg",import.meta.url).href,L={class:"home-page"},T={class:"main-wapper"},q={class:"title"},F={class:"sub-title"},R=e({__name:"index",setup:e=>(C((()=>{})),(e,a)=>{const t=U;return n(),s("div",L,[m("div",{class:"banner",style:b({backgroundImage:`url(${r(H)})`})},null,4),m("div",T,[m("h2",q,h(e.$t("home.h2Title")),1),m("p",F,h(e.$t("home.subTitle")),1),d(t)])])})});export{R as default};
